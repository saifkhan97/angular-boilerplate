<div class="login-container">
  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="login-form">

    <h2>Login</h2>

    <div class="form-group">
      <label>Email</label>
      <input
        type="email"
        formControlName="email"
        placeholder="Enter email"
        autofocus
      />

      @if(email.invalid && (email.dirty || email.touched)){
        <span class="error">
          @if(email.errors?.['required']) { Email is required }
          @if(email.errors?.['email']) { Invalid email format }
        </span>
      }
    </div>

    <div class="form-group">
      <label>Password</label>
      <input
        type="password"
        formControlName="password"
        placeholder="Enter password"
      />

      @if(password.invalid && (password.dirty || password.touched)){
        <span class="error">
          @if(password.errors?.['required']) { Password is required }
          @if(password.errors?.['minlength']) { Minimum 6 characters }
        </span>
      }
    </div>

    <button
      type="submit"
      class="btn-primary"
      [disabled]="form.invalid || submitting()"
    >
      @if(submitting()){
        Logging in...
      } @else {
        Login
      }
    </button>

    @if(error()){
      <div class="error-banner">
        {{ error() }}
      </div>
    }

  </form>
</div>
